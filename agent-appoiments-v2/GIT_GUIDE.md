# ğŸ“¦ Git Configuration Guide

## Overview

This document explains what files should be committed to git and what should be ignored.

---

## âœ… What SHOULD Be in Git

### 1. Source Code
```
src/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ agent.py          âœ… Core agent logic
â”œâ”€â”€ config.py         âœ… Business configuration
â”œâ”€â”€ database.py       âœ… Database setup
â”œâ”€â”€ security.py       âœ… Security layer
â”œâ”€â”€ state.py          âœ… State definitions
â””â”€â”€ tools.py          âœ… Agent tools
```

### 2. Tests
```
tests/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ conftest.py       âœ… Shared fixtures
â”œâ”€â”€ unit/            âœ… Unit tests
â””â”€â”€ integration/     âœ… Integration tests
```

### 3. Configuration Files
```
pyproject.toml       âœ… Project metadata & dependencies
pytest.ini           âœ… Test configuration
.env.example         âœ… Environment template (NO secrets!)
.gitignore           âœ… Git ignore rules
```

### 4. Documentation
```
README.md                    âœ… Main documentation
QUICKSTART.md               âœ… Getting started guide
TESTING_GUIDE.md            âœ… Testing instructions
MOCK_API_GUIDE.md           âœ… API documentation
SECURITY_NOTES.md           âœ… Security configuration
LANGUAGE_AGNOSTIC_UPDATE.md âœ… Security update notes
CHANGELOG.md                âœ… Version history
GIT_GUIDE.md                âœ… This file
```

### 5. Scripts
```
chat_cli.py              âœ… Interactive chat CLI
mock_api.py              âœ… Mock API server
test_agent_interactive.py âœ… Interactive testing
run_chat.sh              âœ… Convenience script
run_mock_api.sh          âœ… API launcher script
```

---

## âŒ What Should NOT Be in Git

### 1. Secrets & Environment (ğŸ”´ CRITICAL)
```
.env                 âŒ NEVER commit! Contains API keys
*.key                âŒ Private keys
*.pem                âŒ Certificates
credentials.json     âŒ Credentials
secrets/             âŒ Secrets directory
```

**Why:** Security! These files contain sensitive information like:
- OpenAI API keys
- Database passwords
- LangSmith tokens
- Private keys

### 2. Virtual Environment
```
venv/                âŒ Python virtual environment
env/                 âŒ Alternative venv name
.venv/               âŒ Hidden venv
```

**Why:**
- ~500MB+ in size
- Different per machine
- Can be recreated with `pip install`

### 3. Python Cache Files
```
__pycache__/         âŒ Compiled Python files
*.pyc                âŒ Bytecode cache
*.pyo                âŒ Optimized bytecode
*.egg-info/          âŒ Package metadata
```

**Why:**
- Generated automatically by Python
- Machine-specific
- Can be regenerated

### 4. Test & Coverage Data
```
.pytest_cache/       âŒ Pytest cache
htmlcov/             âŒ Coverage HTML report
.coverage            âŒ Coverage data
*.prof               âŒ Profiling data
```

**Why:**
- Generated by test runs
- Large files
- Environment-specific

### 5. IDE & Editor Files
```
.vscode/             âŒ VSCode settings
.idea/               âŒ PyCharm settings
*.swp                âŒ Vim swap files
.DS_Store            âŒ macOS metadata
```

**Why:**
- Personal preferences
- Different per developer
- Not part of project

### 6. Build Artifacts
```
dist/                âŒ Distribution packages
build/               âŒ Build directory
*.egg                âŒ Egg distributions
```

**Why:**
- Generated during builds
- Can be recreated
- Not source code

### 7. Logs & Temporary Files
```
*.log                âŒ Log files
*.tmp                âŒ Temporary files
temp/                âŒ Temp directory
logs/                âŒ Logs directory
```

**Why:**
- Runtime artifacts
- Large and changing
- Not needed for development

---

## ğŸ”§ Setup Instructions

### 1. Initial Setup
```bash
# Clone repository
git clone <repo-url>
cd agent-appoiments-v2

# Create virtual environment (NOT in git)
python3 -m venv venv
source venv/bin/activate

# Install dependencies
pip install -e ".[dev]"

# Create .env from template (NOT in git)
cp .env.example .env
# Edit .env with your actual API keys
nano .env
```

### 2. Verify .gitignore is Working
```bash
# Check what will be committed
git status

# Should NOT see:
# - venv/
# - .env
# - __pycache__/
# - .pytest_cache/
# - *.pyc files
```

### 3. Check for Accidentally Committed Secrets
```bash
# Search for potential secrets
git log --all --full-history -- "*/.env"

# If you find .env committed:
# 1. Rotate all API keys immediately!
# 2. Remove from history:
git filter-branch --force --index-filter \
  'git rm --cached --ignore-unmatch .env' \
  --prune-empty --tag-name-filter cat -- --all
```

---

## ğŸ“‹ .gitignore File

The `.gitignore` file has been configured with:

### Categories:
1. **Secrets & Environment** - API keys, credentials
2. **Python** - Cache files, virtual environments
3. **Testing** - Coverage reports, pytest cache
4. **IDEs** - Editor-specific files
5. **Operating Systems** - OS metadata
6. **LangChain/LangGraph** - Traces, checkpoints
7. **Databases** - SQLite, dumps
8. **Logs** - All log files
9. **Project Specific** - Mock data, test outputs

### Total Rules: ~150 patterns

---

## ğŸš¨ Common Mistakes to Avoid

### 1. Committing .env
```bash
# âŒ WRONG
git add .env
git commit -m "Add config"

# âœ… CORRECT
# Never add .env!
# Only commit .env.example
git add .env.example
```

### 2. Committing venv/
```bash
# âŒ WRONG
git add venv/

# âœ… CORRECT
# venv/ is automatically ignored
# Just commit requirements in pyproject.toml
```

### 3. Committing __pycache__/
```bash
# âŒ WRONG
git add src/__pycache__/

# âœ… CORRECT
# Automatically ignored by .gitignore
# Clean with: find . -type d -name "__pycache__" -exec rm -r {} +
```

---

## ğŸ§¹ Cleaning Up

### Remove Ignored Files from Working Directory
```bash
# See what would be deleted (dry run)
git clean -ndX

# Actually delete ignored files
git clean -fdX

# This removes:
# - __pycache__/
# - .pytest_cache/
# - *.pyc files
# - etc.
```

### Remove from Git History (if already committed)
```bash
# Remove venv/ from history
git rm -r --cached venv/
git commit -m "Remove venv from repository"

# Remove .env from history (if leaked!)
git rm --cached .env
git commit -m "Remove .env (rotate keys!)"

# Then ROTATE ALL API KEYS immediately!
```

---

## ğŸ“Š Repository Size

### Current Structure:
```
Source Code:           ~50 KB
Tests:                 ~30 KB
Documentation:         ~100 KB
Configuration:         ~5 KB
Scripts:               ~20 KB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total (in git):        ~205 KB âœ… Small & fast

Ignored (not in git):
Virtual Environment:   ~500 MB
Python Cache:          ~5 MB
Test Cache:            ~2 MB
Coverage Reports:      ~1 MB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total (ignored):       ~508 MB âŒ Not committed
```

---

## âœ… Verification Checklist

Before committing, verify:

- [ ] `.env` is NOT in git status
- [ ] `venv/` is NOT in git status
- [ ] No `__pycache__/` directories shown
- [ ] No `.pyc` files shown
- [ ] No `.pytest_cache/` shown
- [ ] `.env.example` IS tracked (safe template)
- [ ] All source code IS tracked
- [ ] All documentation IS tracked
- [ ] `git status` output is clean

---

## ğŸ” Quick Commands

### Check what's ignored:
```bash
git status --ignored
```

### Check what's tracked:
```bash
git ls-files
```

### Check for secrets:
```bash
# Search for common secret patterns
git grep -i "api.key\|password\|secret\|token" -- "*.py"
```

### Verify .gitignore works:
```bash
# Should return nothing (all ignored)
git check-ignore venv/ __pycache__/ .env .pytest_cache/
```

---

## ğŸ“š Resources

- [Git Documentation](https://git-scm.com/doc)
- [GitHub .gitignore Templates](https://github.com/github/gitignore)
- [Git Secrets Scanner](https://github.com/awslabs/git-secrets)

---

## ğŸ¯ Summary

**COMMIT:** âœ…
- Source code (`src/`)
- Tests (`tests/`)
- Documentation (`*.md`)
- Configuration (`pyproject.toml`, `.env.example`)
- Scripts (`*.py`, `*.sh`)

**IGNORE:** âŒ
- Secrets (`.env`, `*.key`)
- Virtual environment (`venv/`)
- Cache files (`__pycache__/`, `*.pyc`)
- Test artifacts (`.pytest_cache/`, `htmlcov/`)
- IDE files (`.vscode/`, `.idea/`)

---

**Questions?** Check `.gitignore` file or run `git status --ignored`
